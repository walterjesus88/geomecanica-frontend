<ion-view view-title="Account">

<ion-content>
<div class="row">
	<div class="col col-20">
		<div class="list card">
			<div class="item item-divider">Fecha</div>
			<div class="col">
				<div class="col ">
				    <ionic-datepicker input-obj="datepickerObject" ng-model="createRiesgo.datepickerObject.inputDate">
				      <button class="button button-block button-positive"> {{createRiesgo.datepickerObject.inputDate | date:'dd - MMMM - yyyy'}}</button>
				    </ionic-datepicker>
				</div>
			</div>
		  	<div class="col">
		  		<div class="list list-inset">
			    
					<label class="item item-input item-select">
					    <div class="input-label">
					      	<select class="form-control" ng-model="createRiesgo.labor" ng-change="createRiesgo.cargarTipo()"
         					 ng-options="c.codigo for c in labores ">
        					</select>
					    </div>
					</label>

				    <label class="item item-input">
				        <input type="text" placeholder="Nivel" ng-model="createRiesgo.labor.nivel">
				    </label>
		    	</div>
			</div>
		</div>
		<div class="list card">
			<div class="item item-divider">Guardia</div>
				<ion-radio ng-repeat="item in createRiesgo.guardia"
			        ng-value="item.value"
			        ng-model="createRiesgo.insp_guard.guardia" name="group_guardia">
			          {{ item.text }}
			    </ion-radio>

		</div>
		<div class="list card">
			<div class="item item-divider">Tipo de Labor</div>
			<ion-radio ng-repeat="item in createRiesgo.tipolabor"
			        ng-value="item.value"
			        ng-model="createRiesgo.labor.tipoTipoId"  name="group_tipolabor">
			        {{ item.text }}
			</ion-radio>
		</div>

	</div>

    <div class="col col-60">
		<div class="row">
				<ion-radio ng-repeat="item in createRiesgo.empresas"
				    ng-value="item.empresaid"
				    ng-model="createRiesgo.insp_empresa.empresa"
				    name="group_empresa">
				          {{ item.nombre }}
				</ion-radio>
		</div>
	    <div class="row">
	    	<div class="col col-10">
		  		<label class="item item-input item-stacked-label">
			    	<span class="input-label">Ancho</span>

			  	</label>
		  	</div>
	  		<div class="col">
		  		<label class="item item-input item-stacked-label">
			    	<span class="input-label">PROG</span>
			    	<input type="text" ng-model="createRiesgo.labor.ancho_pro" >
			  	</label>
		  	</div>
	  		<div class="col">
			  		<label class="item item-input item-stacked-label">
			    	<span class="input-label">REAL</span>
			    	<input type="text" ng-model="createRiesgo.ancho_real"  >
			  	</label>
		  	</div>
		   	<div class="col">
		  		<label class="item item-input item-stacked-label">
			    	<span class="input-label">% Sobre Exc.-Tabla</span>
			    	<input type="text" ng-model="createRiesgo.ancho_exc_tabla" >
			  	</label>
		  	</div>
		  	<div class="col">
		  		<label class="item item-input item-stacked-label">
			    	<span class="input-label">% Sobre Exc.-Real</span>
			    	<input type="text" ng-model="createRiesgo.ancho_exc_real" >
			  	</label>
		  	</div>
		</div>

		<div class="row">
	  		<div class="col col-10">
				<div class="list">
					<label class="item item-input">
				    <span class="input-label">Alto</span>
				  	</label>
				</div>
	  		</div>
	  		<div class="col">
				<div class="list">
					<label class="item item-input">

				    <input type="text" ng-model="createRiesgo.labor.alto_pro">
				  	</label>
				</div>
	  		</div>
	  		<div class="col">
				<div class="list">
					<label class="item item-input">

				    <input type="text" ng-model="createRiesgo.alto_real">
				  	</label>
				</div>
	  		</div>
	  		<div class="col">
				<div class="list">
					<label class="item item-input">

				    <input type="text" ng-model="createRiesgo.alto_exc_tabla">
				  	</label>
				</div>
	  		</div>
	  		<div class="col">
				<div class="list">
					<label class="item item-input">

				    <input type="text" ng-model="createRiesgo.alto_exc_real">
				  	</label>
				</div>
	  		</div>
	  	</div>

	  	<div class="row">
				<div class="col col-10">
					<input type="text" ng-model="createRiesgo.labor.tipo.nombre" ng-click="createRiesgo.openTablaSostenimiento()">
				</div>
	    	<div class="col col-20">
		    	<label class="item item-input">
						<select disabled ng-model="createRiesgo.tipo_roca" ng-options="roca.rocaid as roca.codigo for roca in createRiesgo.rocas">
						</select>
		    	</label>
	    	</div>
	    	<div class="col ">
		    	<label class="item item-input">
						<select disabled ng-model="createRiesgo.tipo_sostenimiento"
						ng-options="sost.sostenimientoid as sost.descripcion for sost in createRiesgo.sostenimientos">

						</select>
		    	</label>
	    	</div>
	    </div>

	  	<div class="row">
	    	<div class="col ">
		    	<label class="item item-input item-stacked-label">
	    			<span class="input-label">Comentario</span>
	    			<textarea name="comment" id="comment-textarea"  ng-model="createRiesgo.comment">
					</textarea>
	  			</label>
	    	</div>
	    </div>

    </div>

    <div class="col col-20">
		<div class="list card">

			<ion-radio ng-repeat="item in createRiesgo.opcionlabor"
				    ng-value="item.value"

				    ng-checked="createRiesgo.calcular()"
				    ng-model="createRiesgo.inps_OL.sostenimiento"
				    name="group_opcionlabor">
				          {{ item.text }}
			</ion-radio>
		</div>

		<div class="list card">
		   	<div class="item item-divider">Recomendacion Geomecanica</div>
		   		<ion-radio ng-repeat="item in createRiesgo.geomecanica"
				    ng-value="item.value"

				    ng-checked="createRiesgo.calcular()"
				    ng-model="createRiesgo.insp_recomendacion.rgeo" name="group_recomendacion">
				          {{ item.text }}
				</ion-radio>

				{{}}
		</div>

		<div class="list card">
		   	<div class="item item-divider">Instalacion</div>
		   		<ion-radio ng-repeat="item in createRiesgo.install"
				    ng-value="item.value"
				    ng-checked="createRiesgo.calcular()"
				    ng-model="createRiesgo.insp_install.resp" name="group_inst">
				          {{ item.text }}
				</ion-radio>
		</div>



	</div>
</div>

<div class="row">
			<div class="col">
			    <div class="item item-divider">Responsable de:</div>
			    <label class="item item-input item-select">
					<div class="input-label">
					   	<select class="form-control" ng-model="createRiesgo.responsable"
	         				 ng-options="c.nombre for c in createRiesgo.usuarios ">
	        			</select>
					</div>
				</label>
			</div>
			<div class="col">
			    <div class="item item-divider">Seguridad </div>			    
			    <label class="item item-input item-select">
				    <div class="input-label">
				     	<select class="form-control" ng-model="createRiesgo.seguridad"
         				 ng-options="c.nombre for c in createRiesgo.usuarios ">
        				</select>
				    </div>
				</label>
			</div>
			<div class="col">
			    <div class="item item-divider">Geomecanico</div>			
			    <label class="item item-input item-select">
				    <div class="input-label">
				     	<select class="form-control" ng-model="createRiesgo.geomecanico"
         				 ng-options="c.nombre for c in createRiesgo.usuarios ">
        				</select>
				    </div>
				</label>
			</div>
			<div class="col">
			    <div class="item item-divider">Operaciones</div>			   
			    <label class="item item-input item-select">
				    <div class="input-label">
				     	<select class="form-control" ng-model="createRiesgo.operaciones"
         				 ng-options="c.nombre for c in createRiesgo.usuarios ">
        				</select>
				    </div>
				</label>
			</div>
			<div class="col">
				<div class="item item-divider">Nivel de Riesgo</div>
			    <div class="item item-body">
			       	<div>
<<<<<<< HEAD
			           	<input type="text" ng-model="createRiesgo.nivelRiesgo">
						<div>Resultado: {{createRiesgo.nivelRiesgo}}</div>
=======

			           	<input type="text" ng-model="createRiesgo.nivelRiesgo">
					<div>Resultado: {{createRiesgo.nivelRiesgo}}</div>


>>>>>>> 0a080bb6d4f42ae27bd6f92a3d7a38df2cee66ac
			    	</div>
			    </div>
			</div>

			<!-- <div >
				<ion-select label="Placa do VeÃ­culo" label-field="nmPlaca" provider="veiculos"  ng-model="veiculo"/>
			</div>
			<div >
				<ion-select label="Labores" label-field="nombre" provider="labor"  ng-model="labor"/>
			</div> -->
		</div>

  	<div class="row">
		<div class="col ">
			<div >
		<!-- 		<ion-list>
				  	<ion-item ng-repeat="item in createRiesgo.preguntasList | orderBy:'preguntaid' " ng-if="item.preguntaid==1">
				        <label class="item item-input item-select" >
							<div class="input-label">
								{{item.preguntaid}}-{{ item.descripcion }}-{{ item.posicion }}
							</div>
						  	<select class="form-control" ng-model="createRiesgo.labor"
	         					 ng-options="c.codigo for c in labores ">
	        				</select>
						</label>
			  		</ion-item>


				</ion-list>
	        	    -->
			    <ion-list>
				    <ion-toggle  ng-repeat="item in createRiesgo.preguntasList | orderBy:'preguntaid' "  ng-if="item.posicion==1"  ng-model="item.checked"  ng-checked="item.checked"  ng-change="createRiesgo.validate(item)" >
			        	{{item.preguntaid}}-{{ item.descripcion }}-{{ item.posicion }}
			        </ion-toggle>
			    </ion-list>
			</div>
		</div>

		<!-- <div class="col" >
			<div >
			    <ion-list>
				  <ion-item ng-repeat="item in createRiesgo.preguntasList | orderBy:'preguntaid' " ng-if="item.preguntaid==9">
				        <div class="input-label">
				        	{{item.preguntaid}}-{{ item.descripcion }}
				        </div>
				        <label class="item item-input">
							<input type="text" placeholder="Hastial Izquierdo">
							<input type="text" placeholder="Hastial Derecho">
						</label>
				  </ion-item>
				</ion-list>
			    <ion-list>
				    <ion-toggle ng-repeat="item in createRiesgo.preguntasList | orderBy:'preguntaid' " ng-if="item.posicion==2" ng-model="item.checked"  ng-checked="item.checked" >

			        	{{item.preguntaid}}-{{ item.descripcion }}-{{ item.posicion }}
			        </ion-toggle>
			    </ion-list>
			    <ion-list>
				  	<ion-item ng-repeat="item in createRiesgo.preguntasList  " ng-if="item.preguntaid==16">
			        {{item.preguntaid}}-{{ item.descripcion }}-{{ item.posicion }}
					<input type="radio" ng-model="createRiesgo.name" value="red">
	        	  	</ion-item>
				</ion-list>
			</div>

		</div> -->

		</div>

	</div>

	<div class="row">
		<div class="col " ng-repeat="item in preguntasList">
			<ul class="list">
				<li class="item item-checkbox">
				    <label class="checkbox">
        				<input type="checkbox" ng-click="clickItem(item); $event.stopPropagation();" ng-model="item.checked">
				    </label>
				    {{ item.text }}
				</li>
			</ul>
		</div>
	</div>

	<div class="row">
    	<div class="col col-20">
			<button class="button button-balanced"  ng-click="createRiesgo.guardarinspeccion()">
			  Registrar
			</button>
		</div>
	</div>


  <!-- <multi-select-date name="birthdate" ng-model="user.birthdate" year-order="desc" start-year="1980" end-year="2050" required>aqujjjjjjjjjjjjjjjjjjjjjjjjjjjji</multi-select-date> -->


  <script type="text/ng-template" id="multiSelectDate">
	  // <div class="row">

	  //   <div class="col-xs-3">
	  //     Month
	  //     <select ng-model="date.month" ng-options="month for month in selects.months()" class="form-control">
	  //       <option value="" disabled>--</option>
	  //     </select>
	  //   </div>

	  //   <div class="col-xs-3">
	  //     Day
	  //     <select ng-model="date.day" ng-options="day for day in selects.days()" class="form-control">
	  //       <option value="" disabled>--</option>
	  //     </select>
	  //   </div>

	  //   <div class="col-xs-6">
	  //     Year
	  //     <select ng-model="date.year" ng-options="year for year in selects.years() | orderBy: year:yearOrder" class="form-control">
	  //       <option value="" disabled>----</option>
	  //     </select>
	  //   </div>

	  // </div>
  </script>

  </ion-content>
</ion-view>



<script id="popupSostenimiento.html" type="text/ng-template">
  <div class="modal">
    <ion-content>
			<canvas id="canvas" width="800" height="600" tb-sostenimiento
			sostenimientos="createRiesgo.sostenimientos"
      rocas="createRiesgo.rocas"
      tiporoca="createRiesgo.tipo_roca"
      tiposostenimiento="createRiesgo.tipo_sostenimiento">

			</canvas>
    </ion-content>
  </div>
</script>
